{"ast":null,"code":"import { debug } from \"util\";\n\nclass Animator {\n  constructor(ctx, spriteSheet) {\n    this.assets = {};\n    this.ctx = ctx;\n    this.generateSprites(spriteSheet); //.forEach(sprite => this.addAsset(sprite));\n  }\n\n  generateSprites(spriteSheet) {\n    // const output = [];\n    const c = new OffscreenCanvas(spriteSheet.img.width, spriteSheet.img.height);\n    const cc = c.getContext('2d');\n    cc.drawImage(spriteSheet.img, 0, 0, 96, 96, 0, 0, 96, 96);\n    let imgBM = createImageBitmap(spriteSheet.img, {\n      premultiplyAlpha: 'premultiply'\n    }).then(res => {\n      this.addAsset(res);\n      this.render(); // debugger;\n    });\n  }\n\n  addAsset(asset) {\n    this.assets[asset.data] = asset;\n  }\n\n  deleteAsset(asset) {\n    delete this.assets[asset];\n  }\n\n  render() {// Object.values(this.assets).forEach((sprite, idx) => this.ctx.putImageData(sprite, idx*48, 64));\n    // debugger;\n    // this.ctx.drawImage(this.assets.undefined, 64, 64);\n  }\n\n}\n\nexport default Animator;","map":{"version":3,"sources":["/home/aseemar/Desktop/JS_Projects/MERN_stack_project/frontend/src/bummerman/animator/animator.js"],"names":["debug","Animator","constructor","ctx","spriteSheet","assets","generateSprites","c","OffscreenCanvas","img","width","height","cc","getContext","drawImage","imgBM","createImageBitmap","premultiplyAlpha","then","res","addAsset","render","asset","data","deleteAsset"],"mappings":"AAAA,SAASA,KAAT,QAAsB,MAAtB;;AAEA,MAAMC,QAAN,CAAe;AACXC,EAAAA,WAAW,CAAEC,GAAF,EAAOC,WAAP,EAAoB;AAC3B,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKF,GAAL,GAAWA,GAAX;AACA,SAAKG,eAAL,CAAqBF,WAArB,EAH2B,CAGO;AACrC;;AAEDE,EAAAA,eAAe,CAAEF,WAAF,EAAe;AAC1B;AACA,UAAMG,CAAC,GAAG,IAAIC,eAAJ,CAAoBJ,WAAW,CAACK,GAAZ,CAAgBC,KAApC,EAA2CN,WAAW,CAACK,GAAZ,CAAgBE,MAA3D,CAAV;AACA,UAAMC,EAAE,GAAGL,CAAC,CAACM,UAAF,CAAa,IAAb,CAAX;AACAD,IAAAA,EAAE,CAACE,SAAH,CAAaV,WAAW,CAACK,GAAzB,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,CAA5C,EAA+C,CAA/C,EAAkD,EAAlD,EAAsD,EAAtD;AACA,QAAIM,KAAK,GAAGC,iBAAiB,CAACZ,WAAW,CAACK,GAAb,EAAkB;AAAEQ,MAAAA,gBAAgB,EAAE;AAApB,KAAlB,CAAjB,CAAwEC,IAAxE,CAA8EC,GAAD,IAAS;AAC9F,WAAKC,QAAL,CAAcD,GAAd;AACA,WAAKE,MAAL,GAF8F,CAG9F;AACH,KAJW,CAAZ;AAKH;;AAEDD,EAAAA,QAAQ,CAAEE,KAAF,EAAS;AACb,SAAKjB,MAAL,CAAYiB,KAAK,CAACC,IAAlB,IAA0BD,KAA1B;AACH;;AAEDE,EAAAA,WAAW,CAAEF,KAAF,EAAS;AAChB,WAAO,KAAKjB,MAAL,CAAYiB,KAAZ,CAAP;AACH;;AAEDD,EAAAA,MAAM,GAAI,CACN;AACA;AACA;AACH;;AA/BU;;AAkCf,eAAepB,QAAf","sourcesContent":["import { debug } from \"util\";\n\nclass Animator {\n    constructor (ctx, spriteSheet) {\n        this.assets = {};\n        this.ctx = ctx;\n        this.generateSprites(spriteSheet) //.forEach(sprite => this.addAsset(sprite));\n    }\n\n    generateSprites (spriteSheet) {\n        // const output = [];\n        const c = new OffscreenCanvas(spriteSheet.img.width, spriteSheet.img.height);\n        const cc = c.getContext('2d');\n        cc.drawImage(spriteSheet.img, 0, 0, 96, 96, 0, 0, 96, 96);\n        let imgBM = createImageBitmap(spriteSheet.img, { premultiplyAlpha: 'premultiply' }).then((res) => {\n            this.addAsset(res);\n            this.render();\n            // debugger;\n        });\n    }\n    \n    addAsset (asset) {\n        this.assets[asset.data] = asset;\n    }\n\n    deleteAsset (asset) {\n        delete this.assets[asset];\n    }\n    \n    render () {\n        // Object.values(this.assets).forEach((sprite, idx) => this.ctx.putImageData(sprite, idx*48, 64));\n        // debugger;\n        // this.ctx.drawImage(this.assets.undefined, 64, 64);\n    }\n}\n\nexport default Animator;"]},"metadata":{},"sourceType":"module"}