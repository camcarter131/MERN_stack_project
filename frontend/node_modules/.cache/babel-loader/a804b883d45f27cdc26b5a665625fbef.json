{"ast":null,"code":"const Item = require('../item');\n\nclass Bomb {\n  static renderBomb(ctx, position) {\n    ctx.fillStyle = \"#ff0000\";\n    ctx.fillRect(position[0], position[1], 48, 48);\n  }\n\n  static renderExplosion(ctx, position) {\n    ctx.fillStyle = \"#ffff00\";\n    ctx.fillRect(position[0], position[1], 48, 48);\n  }\n\n  static renderExplosionObstacle(ctx, position) {\n    ctx.fillStyle = \"#ffff00\";\n    ctx.fillRect(position[0], position[1], 48, 48);\n  }\n\n  constructor(player) {\n    // this.img = '';\n    // this.flickerIntervalId = null;\n    // this.ctx = ctx;\n    // this.grid = grid;\n    this.player = player;\n    this.deploy = this.deploy.bind(this);\n    this.explodeBothWays = this.explodeBothWays.bind(this); // this.explode = this.explode.bind(this);\n    // this.flicker = this.flicker.bind(this);\n  } // static createBomb(grid, playerPosition, explosionSize) {\n  //     \n  //     Bomb.deploy(Grid.gridArray, position);\n  //     setTimeout(() => Bomb.explode(Grid.gridArray, position, explosionSize), 3000);\n  //     // setTimeout(this.flicker, 2000);\n  // }\n\n\n  explodeBothWays(position, upClear = true, downClear = true, leftClear = true, rightClear = true, obstacleClearUp = true, obstacleClearDown = true, obstacleClearLeft = true, obstacleClearRight = true) {\n    // let position = this.player.grid.canvasToArray([this.player.position.x, this.player.position.y]);\n    let row = position[0];\n    let col = position[1];\n    let gridArray = this.player.grid.gridArray;\n    let bombSize = this.player.bombSize; //4\n\n    for (let i = 1; bombSize > 0; i++) {\n      //UP---------\n      //not on border, not a Wall, not an Obstacle => change gridArray letter to E && decrement bombsize\n      if (row - i >= 1 && gridArray[row - i][col] !== 'W' && gridArray[row - i][col] !== 'O' && upClear && obstacleClearUp) {\n        bombSize -= 1;\n        gridArray[row - i][col] = 'E';\n        if (bombSize === 0) break; //if it is an obstacle OR we've already encountered an obstacle in the up direction\n      } else if (row - i >= 1 && upClear && gridArray[row - i][col] === 'O' || !obstacleClearUp) {\n        //if it's the first obstacle we've encoutered, destroy it and set boolean false but still decrement so explosion doesn't extend\n        if (obstacleClearUp) {\n          gridArray[row - i][col] = 'EO';\n          obstacleClearUp = false;\n        }\n\n        bombSize -= 1;\n        if (bombSize === 0) break; //it's a wall\n      } else {\n        upClear = false;\n      } //DOWN---------\n\n\n      if (row + i <= 15 && gridArray[row + i][col] !== 'W' && gridArray[row + i][col] !== 'O' && downClear && obstacleClearDown) {\n        bombSize -= 1;\n        gridArray[row + i][col] = 'E';\n        if (bombSize === 0) break;\n      } else if (row + i <= 15 && downClear && gridArray[row + i][col] === 'O' || !obstacleClearDown) {\n        //if it's the first obstacle we've encoutered, destroy it and set boolean false\n        if (obstacleClearDown) {\n          gridArray[row + i][col] = 'EO';\n          obstacleClearDown = false;\n        }\n\n        bombSize -= 1;\n        if (bombSize === 0) break;\n      } else {\n        downClear = false;\n      } //LEFT---------\n\n\n      if (col - i >= 1 && gridArray[row][col - i] !== 'W' && gridArray[row][col - i] !== 'O' && leftClear && obstacleClearLeft) {\n        bombSize -= 1;\n        gridArray[row][col - i] = 'E';\n        if (bombSize === 0) break;\n      } else if (col - i >= 1 && leftClear && gridArray[row][col - i] === 'O' || !obstacleClearLeft) {\n        //if it's the first obstacle we've encoutered, destroy it and set boolean false\n        if (obstacleClearLeft) {\n          gridArray[row][col - i] = 'EO';\n          obstacleClearLeft = false;\n        }\n\n        bombSize -= 1;\n      } else {\n        leftClear = false;\n      } //RIGHT---------\n\n\n      if (col + i <= 15 && gridArray[row][col + i] !== 'W' && gridArray[row][col + i] !== 'O' && rightClear && obstacleClearRight) {\n        bombSize -= 1;\n        gridArray[row][col + i] = 'E';\n        if (bombSize === 0) break;\n      } else if (col + i <= 15 && rightClear && gridArray[row][col + i] === 'O' || !obstacleClearRight) {\n        //if it's the first obstacle we've encoutered, destroy it and set boolean false\n        if (obstacleClearRight) {\n          gridArray[row][col + i] = 'EO';\n          obstacleClearRight = false;\n        }\n\n        bombSize -= 1;\n        if (bombSize === 0) break;\n      } else {\n        rightClear = false;\n      }\n    }\n  }\n\n  clearExplosion() {\n    let gridArray = this.player.grid.gridArray;\n\n    for (let row = 0; row < gridArray.length; row++) {\n      for (let col = 0; col < gridArray.length; col++) {\n        if (gridArray[row][col] === 'E') {\n          gridArray[row][col] = 'X';\n        } else if (gridArray[row][col] === 'EO') {\n          gridArray[row][col] = Item.itemSelector();\n        }\n      }\n    }\n  }\n\n  deploy() {\n    const position = this.player.grid.canvasToArray([this.player.position.x, this.player.position.y]);\n    this.player.grid.gridArray[position[0]][position[1]] = 'B';\n    let row = position[0];\n    let col = position[1];\n    let gridArray = this.player.grid.gridArray;\n    setTimeout(() => {\n      this.player.grid.gridArray[position[0]][position[1]] = 'E';\n      this.explodeBothWays(position);\n    }, 2000);\n    setTimeout(() => {\n      this.clearExplosion(); // this.player.grid.gridArray[position[0]][position[1]] = 'X';\n\n      this.player.bombs.pickUpBomb(this);\n    }, 3000);\n  } // explode(gridArray, position, explosionSize) {\n  //     let row = position[0];\n  //     let col = position[1];\n  //     gridArray[row][col] = 'E';\n  // }\n  // flicker() {\n  //     this.flickerIntervalId = setInterval(() => { }, 100);\n  // }\n\n\n}\n\nmodule.exports = Bomb;","map":{"version":3,"sources":["/Users/cameroncarter/Desktop/aA-flex/frontend/src/bummerman/bombs/bomb.js"],"names":["Item","require","Bomb","renderBomb","ctx","position","fillStyle","fillRect","renderExplosion","renderExplosionObstacle","constructor","player","deploy","bind","explodeBothWays","upClear","downClear","leftClear","rightClear","obstacleClearUp","obstacleClearDown","obstacleClearLeft","obstacleClearRight","row","col","gridArray","grid","bombSize","i","clearExplosion","length","itemSelector","canvasToArray","x","y","setTimeout","bombs","pickUpBomb","module","exports"],"mappings":"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","sourcesContent":["const Item = require('../item');\n\nclass Bomb {\n\n    static renderBomb(ctx, position){\n        ctx.fillStyle = \"#ff0000\";\n        ctx.fillRect(position[0], position[1], 48, 48);\n    }\n\n    static renderExplosion(ctx, position){\n        ctx.fillStyle = \"#ffff00\";\n        ctx.fillRect(position[0], position[1], 48, 48);\n    }\n\n    static renderExplosionObstacle(ctx, position){\n        ctx.fillStyle = \"#ffff00\";\n        ctx.fillRect(position[0], position[1], 48, 48);\n    }\n\n    constructor(player) {\n        // this.img = '';\n        // this.flickerIntervalId = null;\n        // this.ctx = ctx;\n        // this.grid = grid;\n        this.player = player;\n        this.deploy = this.deploy.bind(this);\n\n        this.explodeBothWays = this.explodeBothWays.bind(this);\n        \n        // this.explode = this.explode.bind(this);\n        // this.flicker = this.flicker.bind(this);\n    }\n\n\n    // static createBomb(grid, playerPosition, explosionSize) {\n    //     \n\n        \n    //     Bomb.deploy(Grid.gridArray, position);\n    //     setTimeout(() => Bomb.explode(Grid.gridArray, position, explosionSize), 3000);\n\n    //     // setTimeout(this.flicker, 2000);\n    // }\n\n\n\n    explodeBothWays(\n        position, \n        upClear=true, \n        downClear=true, \n        leftClear=true, \n        rightClear=true, \n        obstacleClearUp = true,\n        obstacleClearDown = true,\n        obstacleClearLeft = true,\n        obstacleClearRight = true\n        ) {\n        // let position = this.player.grid.canvasToArray([this.player.position.x, this.player.position.y]);\n        let row = position[0];\n        let col = position[1];\n        let gridArray = this.player.grid.gridArray;\n        let bombSize = this.player.bombSize; //4\n    \n\n        for(let i = 1; bombSize >  0; i++){\n\n            //UP---------\n\n            //not on border, not a Wall, not an Obstacle => change gridArray letter to E && decrement bombsize\n            if (\n                row - i >= 1 \n                && gridArray[row - i][col] !== 'W' \n                && gridArray[row - i][col] !== 'O' \n                && upClear \n                && obstacleClearUp\n                ){\n                bombSize -= 1;\n                gridArray[row - i][col] = 'E';\n                if (bombSize === 0) break;\n            //if it is an obstacle OR we've already encountered an obstacle in the up direction\n            } else if ((row - i >= 1 && upClear && gridArray[row - i][col] === 'O') || !obstacleClearUp) {\n                //if it's the first obstacle we've encoutered, destroy it and set boolean false but still decrement so explosion doesn't extend\n                if (obstacleClearUp) {\n                    gridArray[row - i][col] = 'EO';\n                    obstacleClearUp = false;\n                }\n                bombSize -= 1;\n                if (bombSize === 0) break;\n            //it's a wall\n            } else {\n                upClear = false;\n            }\n\n            //DOWN---------\n\n            if (\n                    row + i <= 15 \n                    && gridArray[row + i][col] !== 'W' \n                    && gridArray[row + i][col] !== 'O' \n                    && downClear\n                    && obstacleClearDown\n                ){\n                bombSize -= 1;\n                gridArray[row + i][col] = 'E';\n                if (bombSize === 0) break;\n            } else if ((row + i <= 15 && downClear && gridArray[row + i][col] === 'O') || !obstacleClearDown) {\n                //if it's the first obstacle we've encoutered, destroy it and set boolean false\n                if (obstacleClearDown) {\n                    gridArray[row + i][col] = 'EO';\n                    obstacleClearDown = false;\n                }\n                bombSize -= 1;\n                if (bombSize === 0) break;\n            } else {\n                downClear = false;\n            }\n\n            //LEFT---------\n\n            if (\n                    col - i >= 1 \n                    && gridArray[row][col - i] !== 'W' \n                    && gridArray[row][col - i] !== 'O' \n                    && leftClear\n                    && obstacleClearLeft\n                ){\n                bombSize -= 1;\n                gridArray[row][col - i] = 'E';\n                if (bombSize === 0) break;\n            } else if ((col - i >= 1 && leftClear && gridArray[row][col - i] === 'O') || !obstacleClearLeft) {\n                //if it's the first obstacle we've encoutered, destroy it and set boolean false\n                if (obstacleClearLeft) {\n                    gridArray[row][col - i] = 'EO';\n                    obstacleClearLeft = false;\n                }\n                bombSize -= 1;\n                \n            } else {\n                leftClear = false;\n            }\n\n            //RIGHT---------\n\n            if (\n                    col + i <= 15 \n                    && gridArray[row][col + i] !== 'W' \n                    && gridArray[row][col + i] !== 'O' \n                    && rightClear\n                    && obstacleClearRight\n                ){\n                bombSize -= 1;\n                gridArray[row][col + i] = 'E';\n                if (bombSize === 0) break;\n            } else if ((col + i <= 15 && rightClear && gridArray[row][col + i] === 'O') || !obstacleClearRight) {\n                //if it's the first obstacle we've encoutered, destroy it and set boolean false\n                if (obstacleClearRight) {\n                    gridArray[row][col + i] = 'EO';\n                    obstacleClearRight = false;\n                }\n                bombSize -= 1;\n                if (bombSize === 0) break;\n            } else {\n                rightClear = false;\n            }\n        }\n    }\n\n    clearExplosion(){\n        let gridArray = this.player.grid.gridArray;\n\n        for(let row = 0; row< gridArray.length; row++){\n            for(let col = 0; col < gridArray.length; col++){\n                if(gridArray[row][col] === 'E'){\n                    gridArray[row][col] = 'X';\n                } \n                else if(gridArray[row][col] === 'EO') {\n                    gridArray[row][col] = Item.itemSelector();\n                }\n            }\n        }\n    }\n    \n    deploy() {\n        const position = this.player.grid.canvasToArray([this.player.position.x, this.player.position.y]);\n        this.player.grid.gridArray[position[0]][position [1]] = 'B';\n        let row = position[0];\n        let col = position[1];\n        let gridArray = this.player.grid.gridArray;\n\n\n        \n        setTimeout(() => {\n\n            \n            this.player.grid.gridArray[position[0]][position[1]] = 'E';\n            this.explodeBothWays(position);\n\n            \n        }, 2000);\n        \n        setTimeout(() => {\n            this.clearExplosion();\n            // this.player.grid.gridArray[position[0]][position[1]] = 'X';\n            this.player.bombs.pickUpBomb(this);\n            }, 3000);\n        \n    }\n\n    // explode(gridArray, position, explosionSize) {\n    //     let row = position[0];\n    //     let col = position[1];\n\n    //     gridArray[row][col] = 'E';\n\n    \n    // }\n    \n\n    // flicker() {\n    //     this.flickerIntervalId = setInterval(() => { }, 100);\n    // }\n\n}\n\nmodule.exports = Bomb;"]},"metadata":{},"sourceType":"module"}