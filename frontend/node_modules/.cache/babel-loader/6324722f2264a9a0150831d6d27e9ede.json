{"ast":null,"code":"import { SPACE, LEFT, UP, RIGHT, DOWN } from \"./keys\";\nexport default class Input {\n  constructor(player) {\n    this.player = player;\n    this.pressedKeys = {};\n    document.addEventListener('keydown', e => this.setKey(e, true));\n    document.addEventListener('keyup', e => this.setKey(e, false));\n    window.addEventListener('blur', () => this.pressedKeys = {});\n  }\n\n  setKey(e, status) {\n    e.preventDefault();\n    let key;\n\n    switch (e.keyCode) {\n      case 32:\n        key = SPACE;\n        break;\n\n      case 37:\n        key = LEFT;\n        this.player.velocity.x = this.player.speed;\n        this.player.velocity.y = 0;\n        break;\n\n      case 38:\n        key = UP;\n        this.player.velocity.y = this.player.speed;\n        this.player.velocity.x = 0;\n        break;\n\n      case 39:\n        key = RIGHT;\n        this.player.velocity.x = this.player.speed;\n        this.player.velocity.y = 0;\n        break;\n\n      case 40:\n        key = DOWN;\n        this.player.velocity.y = this.player.speed;\n        this.player.velocity.x = 0;\n        break;\n\n      default:\n        // Convert ASCII codes to letters\n        key = String.fromCharCode(e.keyCode);\n    }\n\n    this.pressedKeys[key] = status;\n    console.log(this.player.velocity);\n  }\n\n  isPressed(key) {\n    return this.pressedKeys[key];\n  }\n\n}","map":{"version":3,"sources":["/home/aseemar/Desktop/JS_Projects/MERN_stack_project/frontend/src/bummerman/input.js"],"names":["SPACE","LEFT","UP","RIGHT","DOWN","Input","constructor","player","pressedKeys","document","addEventListener","e","setKey","window","status","preventDefault","key","keyCode","velocity","x","speed","y","String","fromCharCode","console","log","isPressed"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,IAAhB,EAAsBC,EAAtB,EAA0BC,KAA1B,EAAiCC,IAAjC,QAA6C,QAA7C;AAEA,eAAe,MAAMC,KAAN,CAAY;AACvBC,EAAAA,WAAW,CAAEC,MAAF,EAAU;AACjB,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,WAAL,GAAmB,EAAnB;AAEAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAsCC,CAAD,IAAO,KAAKC,MAAL,CAAYD,CAAZ,EAAe,IAAf,CAA5C;AACAF,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAoCC,CAAD,IAAO,KAAKC,MAAL,CAAYD,CAAZ,EAAe,KAAf,CAA1C;AACAE,IAAAA,MAAM,CAACH,gBAAP,CAAwB,MAAxB,EAAgC,MAAM,KAAKF,WAAL,GAAmB,EAAzD;AACH;;AAEDI,EAAAA,MAAM,CAACD,CAAD,EAAIG,MAAJ,EAAY;AACdH,IAAAA,CAAC,CAACI,cAAF;AACA,QAAIC,GAAJ;;AACA,YAAQL,CAAC,CAACM,OAAV;AACI,WAAK,EAAL;AACID,QAAAA,GAAG,GAAGhB,KAAN;AACA;;AACJ,WAAK,EAAL;AACIgB,QAAAA,GAAG,GAAGf,IAAN;AACA,aAAKM,MAAL,CAAYW,QAAZ,CAAqBC,CAArB,GAAyB,KAAKZ,MAAL,CAAYa,KAArC;AACA,aAAKb,MAAL,CAAYW,QAAZ,CAAqBG,CAArB,GAAyB,CAAzB;AACA;;AACJ,WAAK,EAAL;AACIL,QAAAA,GAAG,GAAGd,EAAN;AACA,aAAKK,MAAL,CAAYW,QAAZ,CAAqBG,CAArB,GAAyB,KAAKd,MAAL,CAAYa,KAArC;AACA,aAAKb,MAAL,CAAYW,QAAZ,CAAqBC,CAArB,GAAyB,CAAzB;AACA;;AACA,WAAK,EAAL;AACAH,QAAAA,GAAG,GAAGb,KAAN;AACA,aAAKI,MAAL,CAAYW,QAAZ,CAAqBC,CAArB,GAAyB,KAAKZ,MAAL,CAAYa,KAArC;AACA,aAAKb,MAAL,CAAYW,QAAZ,CAAqBG,CAArB,GAAyB,CAAzB;AACA;;AACA,WAAK,EAAL;AACAL,QAAAA,GAAG,GAAGZ,IAAN;AACA,aAAKG,MAAL,CAAYW,QAAZ,CAAqBG,CAArB,GAAyB,KAAKd,MAAL,CAAYa,KAArC;AACA,aAAKb,MAAL,CAAYW,QAAZ,CAAqBC,CAArB,GAAyB,CAAzB;AACA;;AACJ;AACI;AACAH,QAAAA,GAAG,GAAGM,MAAM,CAACC,YAAP,CAAoBZ,CAAC,CAACM,OAAtB,CAAN;AA1BR;;AA8BA,SAAKT,WAAL,CAAiBQ,GAAjB,IAAwBF,MAAxB;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKlB,MAAL,CAAYW,QAAxB;AACH;;AAEDQ,EAAAA,SAAS,CAAEV,GAAF,EAAO;AACZ,WAAO,KAAKR,WAAL,CAAiBQ,GAAjB,CAAP;AACH;;AAjDsB","sourcesContent":["import { SPACE, LEFT, UP, RIGHT, DOWN } from \"./keys\";\n\nexport default class Input {\n    constructor (player) {\n        this.player = player;\n        this.pressedKeys = {};\n\n        document.addEventListener('keydown', (e) => this.setKey(e, true));\n        document.addEventListener('keyup', (e) => this.setKey(e, false));\n        window.addEventListener('blur', () => this.pressedKeys = {})        \n    }\n\n    setKey(e, status) {\n        e.preventDefault();\n        let key;\n        switch (e.keyCode) {\n            case 32:\n                key = SPACE; \n                break;\n            case 37:\n                key = LEFT; \n                this.player.velocity.x = this.player.speed;\n                this.player.velocity.y = 0;\n                break;\n            case 38:\n                key = UP; \n                this.player.velocity.y = this.player.speed;\n                this.player.velocity.x = 0;\n                break;\n                case 39:\n                key = RIGHT; \n                this.player.velocity.x = this.player.speed;\n                this.player.velocity.y = 0;\n                break;\n                case 40:\n                key = DOWN; \n                this.player.velocity.y = this.player.speed;\n                this.player.velocity.x = 0;\n                break;\n            default:\n                // Convert ASCII codes to letters\n                key = String.fromCharCode(e.keyCode);\n\n        }\n\n        this.pressedKeys[key] = status;\n        console.log(this.player.velocity);\n    }\n\n    isPressed (key) {\n        return this.pressedKeys[key];\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}